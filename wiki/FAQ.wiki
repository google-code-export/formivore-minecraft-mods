=Frequently Asked Questions=
<wiki:toc max_depth="1" />

=FAQ - Troubleshooting and General Questions=
<font color=#632423>*_Q: How/where are the walls/cities generated?_*</font><br>
Cities and walls have a chance to spawn with every new bit of terrain Minecraft generates. It works the same way as terrain features like lakes, just a lot bigger. Minecraft generates new terrain on the fly as you explore, so the mod will do the same with structures.

*_<font color=#632423>Q: Help! I can’t find any cities/walls.</font>_*<br>
When the mod builds a city, it should send a message on your screen announcing that a city has spawned. It's quite possible that no city will be built in the terrain immediately surrounding your spawn position. You will have to explore a bit. Structures will be generated in random locations, but not in certain types of terrain like steep hills or underwater. If you explored for a while but did not get anything, it’s possible you just got unlucky; try generating another world. You can adjust the frequency of cities/walls by modifying the settings file, see the question below.

It’s possible there was a conflict with another mod. Surface cities can have trouble generating in the presence of other world generation mods that add lots of modded or otherwise not naturally occurring blocks to the world. You can try telling the Walled City Mod to override these blocks by setting <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/GlobalSettingFiles>`RejectOnPreexistingArtifacts:1` </a> in `WalledCitySettings.txt`. If you think there is some other conflict with another mod you can try reporting this on the forum (see guidelines for crash reports) and see if any solutions are available.

If you don’t find any walls or receive any notices about cities, there is likely a problem with installation. When the Minecraft starts up, the mod should create log files `great_wall_log.txt` and `walled_city_log.txt` in the main Minecraft folder. These log files are currently created in the same folder as your Minecraft launcher. Open these up and see if there are any reports of errors. If you can’t find the log files, you may not have installed the mod correctly. You can try re-installing the mod. In this case, I recommend starting from a clean jar file with only ModLoader installed.

<font color=#632423>*_Q: How can I control how frequently walls/cities are generated?_*</font><br>
You can control this by adjusting the value of <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/GlobalSettingFiles>`GlobalFrequency` </a> in the `WalledCitySettings.txt`/`GreatWallModSettings.txt` files located in the main Minecraft folder. `GlobalFrequency` is the probability a structure will be attempted per each chunk; it takes a value between 0.0 and 1.0 with 1.0 being max frequency. 

For cities you can also adjust <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/GlobalSettingFiles>`MinCitySeparation` </a>. If you are having problems with slowdown, it may be good to increase this which will prevent the mod from attempting to create new cities after one has already been created. Note that since the mod doesn’t save city locations, it is still possible to get cities that don’t obey `MinCitySeparation` if you quit and then restart Minecraft. This is a minor bug that I don’t plan to fix.

Finally the city/wall <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/Variables#Wall_Template_Variables>min_length </a> variable also has a big effect on frequency. Shorter walls/cities will be much more likely to spawn. The variables are located in the individual .tml files for each wall/city style. I wouldn’t recommend altering these to try to control frequency unless you have exhausted `GlobalFrequency` first though.

<font color=#632423>*_Q: Will the mod work on old saves?_*</font><br>
Yes, but you will have to explore new terrain. There’s no way to generate structures with origins in terrain you’ve already explored. However, structures are huge and so can originate in virgin terrain but cross over onto already explored land. Backup your saves!

<font color=#632423>*_Q: Can I run both mods at once?_*</font><br>
Yes.  When you install both mods you will be overwriting a lot of the code that they share in common, but there should be no problem as long as both mods are from the same version.

<font color=#632423>*_Q: The mod crashed!_*</font><br>
I’m very interested in receiving crash reports so I can fix bugs. Post crash reports on the forum. I need the following information if I can respond to a report:
  * Your OS
  * Whether you were running any other mods (besides modloader).
  * When the crash occurred (e.g. before the menu screen, while generating a world, while doing something in-game).
  * Minecraft’s crash report. Minecraft may quit or blackscreen before you can view the error report. In this case the Minecraft <a href=http://formivore-minecraft-mods.googlecode.com/files/minecrafterrortest.bat>error test</a> batch file should allow you to retrieve the log file. Use the error test script by double clicking on it in Windows to start minecraft.

<font color=#632423>*_Q: Generation bugs*</font><br>
If you see the mod generate something that look really ugly/buggy and want to report it, please include a screenshot. A picture is worth a thousand words. A lot of strange things can happen, particularly when interacting with other mods.

<font color=#632423>*_Q: LAGGGG_*</font><br>
The Walled City Generator in particular can cause bad slowdowns because of the large number of chunks that have to be generated in order to plan a city. This slowdown will only occur while Minecraft is generating new terrain; it will cease after a while if you are not exploring. It seems that this affects some machines more than others. Decreasing `GlobalFrequency` or increasing `MinCitySeparation` will reduce slowdown, see above on how to do this. It may be helpful to increase java’s memory allocation. There are tutorials online about how to do this. This problem is something I am trying to improve but to a certain extent it is inherent in the design of the mod.

=FAQ - Customization=


<font color=#632423>*_Q: How can I create custom walls and cities?*_</font><br>
All the walls and cities you see are generated from template (.tml) files located in the resources folder. You can edit these files using a text editor. Note that cities are comprised of two wall templates, one for the outer walls and one for the inner streets. The TemplateFormat is a modified version of the format used in the ruins mod and is described in the template format documentation. Try just making some minor modifications to the materials or ornamentation of a building to learn the format.

<font color=#632423>*_Q: Wow, I love this one city/wall, how do I get it to spawn all the time?*_</font><br> 
Each structure has a <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/Variables#Standard_Variables>weight </a> listed in the first line of its template file that controls how likely it is to spawn relative to other structures. Change the weight of the structure you like to something big like 1000 and it will always be chosen. If there's a structure you don't want to spawn, set its weight to zero. For cities, the template file you want to modify are the city/outer wall templates in the /resources/walledcity folder. Note that the absolute frequency that any type of walls/cities will spawn are controlled by the <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/GlobalSettingFiles>`GlobalFrequency` </a>values in the global settings file, the weights control how much of this absolute frequency is taken up by a single type of wall/city.

<font color=#632423>*_Q: How can I change the materials a wall or building is made from?*_</font><br>
The materials a wall or building template is built from are given in the BlockRules. You will first need to locate the rule that’s used as the majority block for the template (if that’s what you want to change). You can do this by scanning the layers at the bottom of the template. For walls, the other important block rule is the one used for the <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/Variables#Default_Tower_Variables>tower_block </a>variable which controls the body of the towers. Once you have found the block rule, change the third number in the rule to the <a href=http://www.minecraftwiki.net/wiki/Data_values>block ID</a> you want. For example, change:
{{{
rule1=0,100,24         #rule1 is to build sandstone
}}}
to
{{{
rule1=0,100,4         #rule1 is now to build cobblestone
}}}

<font color=#632423>*_Q: How can I change how the hostile mobs spawn?*_</font><br>
You will have to modify the templates for this. Each <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/TemplateFormat#How_The_Mods_Use_Template_Files>wall template</a> has <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/Variables#Default_Tower_Variables>spawner_rule </a> variable that controls what type of spawners will be created in the default towers. For example the RuinedMossyCity has the spawner rule
{{{
spawner_rule=0,35,327
}}}
This means that towers have a 35% chance of having a blaze spawner. 327 is the <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/BlockRules#Special_blockIDs>special blockID </a> for blaze spawners. To get rid of spawners entirely, just delete this line.

<font color=#632423>*_Q: Is there an option to change <X feature>?*_</font><br>
There are a large number of options that can adjust the size, density, frequency, and material, and style of walls and cities. Most of these are specified in the template files for each individual wall or city template file. Scan through the [Variables] to see if the option that does what you want exists. There are also a few global options that you can adjust for all walls/cities in the `WalledCitySettings.txt` and `GreatWallModSettings.txt` files.

<font color=#632423>*_Q: What are infinite cities and how do I make them?*_</font><br> 
An infinite city means a city that stretches on forever; these are created using the Great Wall Mod (not the Walled City Generator). You can have the Walled City Generator running at the same time, but it may not get a chance to build much. To make an infinite city follow these steps.
  #1Choose one or more <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/TemplateFormat#Wall_Templates_and_Road_Templates>road templates</a> you like for your infinite city. The <a href=http://formivore-minecraft-mods.googlecode.com/files/Casbah.tml>Casbah.tml </a> template I've created is a good choice. The street templates that come with the Walled City Mod in the /resources/walledcity/streets/ folder are also good. You should make some modifications to the [Variables] so they work better for infinite cities:
   * <font color= #800080>`merge_walls `</font>`= 1` #this will make the roads merge together
   * <font color= #800080>`min_length `</font>`= 10` #shorter roads are much more likely to spawn
   * <font color= #800080>`biomes `</font>`= ALL` #will generate in any biome
   * <font color= #800080>`make_gatehouse_towers `</font>`= 0` #gatehouse towers will obstruct roads
   * <font color= #800080>`building_interval `</font>`= 15` #something fairly short like 15 will make dense cities, tweak this to your liking.
   * <font color= #800080>`weight `</font>`= 1000` #only if you have other templates in the /resources/greatwall/ folder that you want to be ignored for your city.
  #3Place the road templates for your infinite city in the /resources/greatwall/ folder.
  #4In `GreatWallModSettings.txt` set <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/GlobalSettingFiles>`GlobalFrequency` </a> to 0.5 or higher. You can try increasing <a href=http://code.google.com/p/formivore-minecraft-mods/wiki/GlobalSettingFiles>`TriesPerChunk` </a> as well to get even denser cities.

<font color=#632423>*_Q: If infinite dragons devour infinite cities, how many cities do I have left?*_</font><br>
Undefined.

<font color=#632423>*_Q: Is there any way I can import buildings from MCEdit schematics?*_</font><br>
If you want to import Minecraft structures from the popular MCEdit schematic format, you can use this <a href=http://code.google.com/p/formivore-minecraft-mods/downloads/detail?name=schematic%20converter.zip&can=2&q=>script </a> written by the creator of the ruins mod.